@model Usuario
@{
    ViewData["Title"] = "Registro";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro de Usuario</title>
    <link href="~/css/login.css" rel="stylesheet" />
    <link href="~/lib/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body>
    <section class="bg-transparent py-3 py-md-5">
        <div class="container d-flex align-items-center justify-content-center min-vh-100 overflow-auto">
            <div class="row justify-content-center w-100">
                <div class="col-12 col-sm-10 col-md-8 col-lg-6 col-xl-5 col-xxl-4">
                    <div class="acrylic-card border-light-subtle rounded-3 shadow-sm overflow-hidden">
                        <div class="card-body p-3 p-md-4 p-xl-5">
                            <div class="text-center mb-3">
                                <img src="~/images/logo/Logo.jpg" alt="BootstrapBrain Logo" class="rounded-3" width="100%" height="auto">
                            </div>
                            <h2 class="fs-6 fw-normal text-center text-secondary mb-4">Registro de Usuario</h2>
                            <form asp-action="Registro" method="post">
                                <div class="row gy-2 overflow-hidden">
                                    <div class="col-12">
                                        <div class="form-floating mb-3">
                                            <input type="text" asp-for="Nombre" class="form-control" id="nombre"
                                                   placeholder="Introduce el nombre" required>
                                            <label for="nombre" class="form-label text-dark">Nombre</label>
                                        </div>

                                        <div class="form-floating mb-3">
                                            <input type="email" asp-for="Correo" class="form-control" id="correo"
                                                   placeholder="Introduce el correo" required>
                                            <label for="correo" class="form-label text-dark">Correo</label>
                                        </div>

                                        <div class="form-floating mb-3">
                                            <input type="password" asp-for="Clave" class="form-control" id="clave"
                                                   placeholder="Introduce la contraseña" required>
                                            <label for="clave" class="form-label text-dark">Contraseña</label>
                                        </div>

                                        <div class="form-floating mb-3">
                                            <input type="password" name="confirmarClave" class="form-control" id="confirmarClave"
                                                   placeholder="Confirma la contraseña" required>
                                            <label for="confirmarClave" class="form-label text-dark">Confirmar Contraseña</label>
                                        </div>

                                        <div class="form-floating mb-3">
                                            <select asp-for="Rol" class="form-select" id="rol" required>
                                                <option value="Estudiante">Estudiante</option>
                                                <option value="Docente">Docente</option>
                                                <option value="Administrador">Administrador</option>
                                            </select>
                                            <label for="rol" class="form-label text-dark">Tipo de Usuario</label>
                                        </div>
                                    </div>

                                    <div class="col-12">
                                        <div class="d-grid my-3">
                                            <button type="submit" class="btn btn-success btn-lg">Registrar</button>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script>
        @if (TempData["ErrorMessage"] != null)
        {
            <text>
                    Swal.fire({
                        icon: 'error',
                        title: 'Error',
                        text: '@TempData["ErrorMessage"]',
                    });
            </text>
        }
        @if (TempData["SuccessMessage"] != null)
        {
            <text>
                    Swal.fire({
                        icon: 'success',
                        title: 'Usuario Agregado',
                        text: '@TempData["SuccessMessage"]',
                        showConfirmButton: true,
                        confirmButtonText: 'OK',
                        // Después de hacer clic en "OK", redirigir a la vista deseada
                        willClose: () => {
                            window.location.href = '@Url.Action("Index", "Usuario")';
                        }
                    });
            </text>
        }
    </script>
</body>
</html>
